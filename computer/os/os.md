---
created_date: 2020-11-20
---

[TOC]

## Linux
### 操作系统的发展历程：
大型机--个人计算机--网络--移动互联网--云计算--泛在计算（物联网）--机器人

### CPU状态之间的转换
- 用户态-->内核态
	中断（外中断）/异常（内异常）/陷入机制
1. 通过中断机制陷入内核态，三种方式
	1. 外围设备的中断: 对硬件进行操作（如读取磁盘文件、发送网络数据）。
	2. 系统调用: 创建进程.
	3. 异常: 用户态不可知异常。

2. 硬件：中断/异常响应
3. 软件：中断/异常处理程序

### 传统操作系统：
批处理操作系统--spooling技术（1961）：输入井-主机-输出井。例如现在的打印机
分时操作系统--
实时操作系统--
个人计算机操作系统--
网络操作系统--
分布式操作系统--
嵌入式操作系统


批处理系统中采用的调度算法：
先来先服务（FCFS）  最短作业先（SJF）  最短剩余时间优先（SRTN）最高响应优先（HRRN）
交互式系统调度算法：
时间片算法  虚拟轮转法  最高优先行算法

### 进程切换
1. 切换全局页目录。
2. 切换内核栈和硬件上下文。
3. 上下文切换具体步：
	- 例如进程A下CPU，B上CPU
	1. 保存进程A的上下文环境（程序计数器，程序状态，其它寄存器...）
	2. 用新状态和其它相关信息更新进程A的PCB
	3. 把进程A移至合适的队（就绪.堵塞..）
	4. 把进程B的状态设置为运行态
	5. 从进程B的PCB中恢复上下文（..）
4. 上下文切换开销：
	1. 直接开销 内核完成切换所用的CPU时间（保存和恢复寄存器，切换地址空间）
	2. 简接开销（高速缓存，缓冲区缓存和TLB失效）

### 同步互斥 ：PV  信号  管程
IPC

### 内存--虚拟存储技术--页式存储管理方案--页面置换算法

### 寄存器--高速缓存--高速缓存CacheL2--高速缓存CacheL3--RAM--Disk

### IO：
- 硬件组成--控制方式--软件组成--相关技术--性能问题
- IO性能：
1. 使CPU利用率尽可能不被I/O降低
2. 使CPU尽可能摆脱I/O
	方案：
	1. 减少或缓解速度差距--缓冲技术
	2. 使CPU不等待I/O--异步I/O
	3. 让CPU摆脱I/O操作--DMA，通道

### 死锁
1. 为什么会出现死锁：
	资源数量有限，锁 和 信号量错误使用。

2. 产生死锁的必要条件：
	1. 互斥使用（资源独占）
	2. 占用且等待（请求和保持，部分分配）
	3. 不可抢占（不可剥夺）
	4. 循环等待

3. 解决死锁的办法：
	1. 不让死锁发生
		- 死锁预防(静态策略)
		- 死锁避免(动态策略)
	2. 让死锁发生
		死锁检测与解除

### 银行家算法

